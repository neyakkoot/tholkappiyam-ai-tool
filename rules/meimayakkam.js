const MeimayakkamRules = {
    check: function(word) {
        
        // ---------------------------------------------------------
        // விதி 1: உடனிலை மயக்கம் (Gemination) - நூன்மரபு 30
        // தம்மொடு தாம் மயங்கும் மெய்கள் (க், ச், த், ப், ஞ், ந், ம், வ்)
        // தம்மொடு தாம் மயங்காத மெய்கள் (ர், ழ்)
        // ---------------------------------------------------------

        // 1.1: 'ர்' மற்றும் 'ழ்' இரட்டித்தல் கூடாது (*ஆர்ர்வம், *வாழ்ழ்வு)
        if (/ர்[ரரி]/.test(word)) {
            return {
                isValid: false,
                reason: "நூன்மரபு 30: 'ர்' (r) மெய் தன்னோடு தான் மயங்காது (இரட்டிப்பு ஆகாது)."
            };
        }
        if (/ழ்[ழழி]/.test(word)) {
            return {
                isValid: false,
                reason: "நூன்மரபு 30: 'ழ்' (zh) மெய் தன்னோடு தான் மயங்காது (இரட்டிப்பு ஆகாது)."
            };
        }

        // ---------------------------------------------------------
        // விதி 2: வேற்றுநிலை மயக்கம் (Clusters with different consonants)
        // ---------------------------------------------------------

        // 2.1: க, ச, த, ப (வல்லினம்) - தம்மொடு தாம் மட்டுமே மயங்கும். பிற மெய்களோடு மயங்காது.
        // (குறிப்பு: க்+க சரி. ஆனால் க்+ச, க்+த தவறு).
        // *பக்சம் (தவறு), *கப்கம் (தவறு)
        // Regex: (க்|ச்|த்|ப்) followed by any consonant other than itself
        // ஆனால் உயிர்மெய் வருவதால் (க்+ச = க்ச), இதைச் சோதிப்பது சற்று நுட்பமானது.
        // இங்கே எளிமைக்காக 'க்' க்குப் பின் 'க' வர்க்கம் அல்லாத பிற வல்லினம் வந்தால் பிழை.
        if (/க்[சஞடணதநபம்யரலவழளறன]/.test(word)) {
             return { isValid: false, reason: "நூன்மரபு: 'க்' ஒற்றின் பின் 'க' வர்க்கம் மட்டுமே வரும். பிற மெய்கள் மயங்காது." };
        }
        if (/ச்[கஙடணதநபம்யரலவழளறன]/.test(word)) {
             return { isValid: false, reason: "நூன்மரபு: 'ச்' ஒற்றின் பின் 'ச' வர்க்கம் மட்டுமே வரும்." };
        }
        if (/த்[கஙசஞடணபமயரலவழளறன]/.test(word)) {
             return { isValid: false, reason: "நூன்மரபு: 'த்' ஒற்றின் பின் 'த' வர்க்கம் மட்டுமே வரும்." };
        }
        if (/ப்[கஙசஞடணதநமயரலவழளறன]/.test(word)) {
             return { isValid: false, reason: "நூன்மரபு: 'ப்' ஒற்றின் பின் 'ப' வர்க்கம் மட்டுமே வரும்." };
        }

        // 2.2: ட, ற (வல்லினம்) - க, ச, ப உடன் மட்டுமே மயங்கும் (நூன்மரபு 23)
        // *காட்மா (தவறு), *கற்நார் (தவறு)
        // அனுமதிக்கப்பட்டவை: ட்க, ட்ச, ட்ப | ற்க, ற்ச, ற்ப
        if (/ட்[ஙஞணநமயரலவழளறன]/.test(word)) {
            return { isValid: false, reason: "நூன்மரபு 23: 'ட்' ஒற்றின் பின் க, ச, ப மட்டுமே மயங்கும்." };
        }
        if (/ற்[ஙஞணநமயரலவழளறன]/.test(word)) {
            return { isValid: false, reason: "நூன்மரபு 23: 'ற்' ஒற்றின் பின் க, ச, ப மட்டுமே மயங்கும். (எ.கா: கற்க, பயிற்சி, கற்ப)." };
        }

        // 2.3: ங, ஞ, ந, ம (மெல்லினம்)
        
        // 'ங்' தன் இனமான 'க' உடன் மட்டுமே மயங்கும் (சங்கம்). *சங்சம் தவறு.
        if (/ங்[சஞடணதநபம்யரலவழளறன]/.test(word)) {
            return { isValid: false, reason: "நூன்மரபு: 'ங்' ஒற்றின் பின் அதன் இனமான 'க' மட்டுமே மயங்கும்." };
        }
        // 'ஞ்' தன் இனம் (ச) மற்றும் ய, க, ப (சில சூழலில்). பொது விதி: ச, ஞ, ய.
        // *மஞ்ம (தவறு)
        if (/ஞ்[கஙடணதநபம்ரலவழளறன]/.test(word)) {
            return { isValid: false, reason: "நூன்மரபு: 'ஞ்' ஒற்றின் பின் ச, ஞ, ய மட்டுமே பொதுவாக மயங்கும்." };
        }
        // 'ந்' தன் இனம் (த) மற்றும் ந. *பன்பு (தவறு - அது ன்)
        if (/ந்[கஙசஞடணபம்யரலவழளறன]/.test(word)) {
            return { isValid: false, reason: "நூன்மரபு: 'ந்' (Dental n) ஒற்றின் பின் அதன் இனமான 'த' மற்றும் 'ந' மட்டுமே மயங்கும்." };
        }
        // 'ம்' -> ப (அம்பு), ம (அம்மா), வ (நிலம்வலிது).
        // *கம்வம் (தவறு - மகரம் 'வ'வோடு மயங்காது - நூன்மரபு 28)
        // நூன்மரபு 28: "மகரம்... வகரத்தோடு மயங்குதல் இல்லை"
        if (/ம்[வவிவுவெவேவை]/.test(word)) {
             return { isValid: false, reason: "நூன்மரபு 28: மகர ஒற்று (ம்) வகரத்தோடு (வ) மயங்காது. (*கம்வம் தவறு)." };
        }
        // 'ம்' மயங்காத பிற எழுத்துகள்: க, ச, ஞ, ட, ண, த, ந, ய, ர, ல, ழ, ள, ற, ன
        // ஆனால் 'ம்' + 'ய' (மயக்கம்) வரும்? இல்லை.
        // எளிமைக்காக: ம் முன் ப, ம மட்டுமே வரும் (தனிச்சொல்லில்). புணர்ச்சியில் க,ச,த வரலாம்.
        // நாம் 'வ' வராத விதியை மட்டும் முக்கியமாக வைப்போம்.

        // 2.4: ண, ன (மெல்லினம்) - நூன்மரபு 26
        // ண, ன முன் -> க, ச, ஞ, ப, ம, ய, வ மற்றும் தம் இனம் (ட, ற) மயங்கும்.
        // மயங்காதவை: த, ந.
        // *வண்டுது (தவறு - ண்த), *சென்றுது (தவறு - ன்ற்த)
        if (/ண்[தந]/.test(word)) {
             return { isValid: false, reason: "நூன்மரபு 26: 'ண'கர ஒற்றின் பின் த, ந மயங்காது." };
        }
        if (/ன்[தந]/.test(word)) {
             return { isValid: false, reason: "நூன்மரபு 26: 'ன'கர ஒற்றின் பின் த, ந மயங்காது. (பன்றி - 'ற்' அது, 'த' அல்ல)." };
        }
        // முக்கியப் பிழை: 'ன்' முன் 'ர' வருதல் (*நன்ரி)
        if (/ன்[ரரி]/.test(word)) {
             return { isValid: false, reason: "நூன்மரபு: 'ன'கர ஒற்றின் பின் 'ர'கரம் மயங்காது. 'ற்' (றகரம்) மட்டுமே வரும் (எ.கா: நன்றி)." };
        }

        // 2.5: ய, ர, ழ (இடையினம்) - நூன்மரபு 29 / மொழிமரபு 15
        // இவை க, ச, த, ப, ங, ஞ, ந, ம, ய, வ (கிட்டத்தட்ட எல்லாவற்றுடனும்) மயங்கும்.
        // ஆனால் 'ர', 'ழ' தம்மொடு தாம் மயங்காது (ஏற்கனவே மேலே பார்க்கப்பட்டது).
        // *தேர்ங்கம் (ங வராது - சில உரையாசிரியர்கள் கருத்து).
        // தொல்காப்பியர்: "ஈரொற்று அகரம் ஙகரமொடு கொளலே" (மொழிமரபு 15).
        // எனவே ய, ர, ழ முன் ங வரும் (வேய்ங்ஙனம்).
        // ஆனால் தனிச்சொல்லில் பெரும்பாலும் க, ச, ப, த, ஞ, ந, ம, ய, வ வரும்.
        
        // 2.6: ல, ள (இடையினம்) - நூன்மரபு 24
        // ல, ள முன் -> க, ச, ப, ய, வ மயங்கும்.
        // மயங்காதவை: த, ந, ம...
        // *கல்மனம் (புணர்ச்சி அல்லாத தனிச்சொல் எனில் தவறு).
        // *செல்நரி (தவறு)
        if (/ல்[ஙஞடணதநமரழளறன]/.test(word)) {
             return { isValid: false, reason: "நூன்மரபு 24: 'ல்' ஒற்றின் பின் க, ச, ப, ய, வ மட்டுமே மயங்கும்." };
        }
        if (/ள்[ஙஞடணதநமரழலறன]/.test(word)) {
             return { isValid: false, reason: "நூன்மரபு 24: 'ள' ஒற்றின் பின் க, ச, ப, ய, வ மட்டுமே மயங்கும்." };
        }

        // 2.7: வ (இடையினம்)
        // 'வ்' -> ய (தெவ்யாது).
        // 'வ்' தன்னோடு மயங்கும் (தெவ்வர்).
        // வேறு மெய்களோடு மயங்குவது அரிது (தனிச்சொல்லில்).

        // ---------------------------------------------------------
        // விதி 3: மூவொற்று மயக்கம் (Consonant Clusters of 3) - மொழிமரபு 16
        // ---------------------------------------------------------
        // ய, ர, ழ ஒற்றின் பின் க, ச, த, ப இணைகள் வரலாம். (எ.கா: வாய்ப்பு, வாழ்க்கை)
        // ஆனால் ர, ழ குறிலின் கீழ் ஒற்றாக வராது.
        // இது Regex மூலம் அறிவது கடினம், ஆனால் விதியாகக் குறிப்பிடலாம்.

        return { isValid: true };
    }
};
